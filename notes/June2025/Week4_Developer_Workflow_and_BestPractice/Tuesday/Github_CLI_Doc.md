# [GitHub CLI manual](https://cli.github.com/manual/)


- GitHub CLI, or gh, is a command-line interface to GitHub for use in your terminal or your scripts.


---

## gh auth

- Authenticate gh and git with GitHub

- Available commands:

### gh auth login

- Authenticate with a GitHub host.

- The default hostname is github.com. This can be overridden using the --hostname flag.

- The default authentication mode is a web-based browser flow. After completion, an authentication token will be stored securely in the system credential store. If a credential store is not found or there is an issue using it gh will fallback to writing the token to a plain text file. See gh auth status for its stored location.

- To use gh in GitHub Actions, add GH_TOKEN: ${{ github.token }} to env.

- The git protocol to use for git operations on this host can be set with --git-protocol, or during the interactive prompting. Although login is for a single account on a host, setting the git protocol will take effect for all users on the host.

- Specifying ssh for the git protocol will detect existing SSH keys to upload, prompting to create and upload a new key if one is not found. This can be skipped with --skip-ssh-key flag.

#### Options

- -p, --git-protocol `<string>`

    - The protocol to use for git operations on this host: {ssh|https}

- -h, --hostname `<string>`

    - The hostname of the GitHub instance to authenticate with

- --insecure-storage

    - Save authentication credentials in plain text instead of credential store

- -s, --scopes `<strings>`

    - Additional authentication scopes to request

- --skip-ssh-key

    - Skip generate/upload SSH key prompt

- -w, --web

    - Open a browser to authenticate

- --with-token

    - Read token from standard input

#### Examples

```powershell
    # Start interactive setup
    $ gh auth login

    # Authenticate against <github.com> by reading the token from a file
    $ gh auth login --with-token < mytoken.txt

    # Authenticate with specific host
    $ gh auth login --hostname enterprise.internal
```

### gh auth logout

- Remove authentication for a GitHub account.

- This command removes the stored authentication configuration for an account. The authentication configuration is only removed locally.

- This command does not revoke authentication tokens.

- To revoke all authentication tokens generated by the GitHub CLI:

    1. Visit [https://github.com/settings/applications](https://github.com/settings/applications) 

    1. Select the "GitHub CLI" application

    1. Select "Revoke Access"

    1. Select "I understand, revoke access"

    - Note: this procedure will revoke all authentication tokens ever generated by the GitHub CLI across all your devices.


#### Options

- -h, --hostname `<string>`

    - The hostname of the GitHub instance to log out of

- -u, --user `<string>`

    - The account to log out of

#### Examples

```powershell
    # Select what host and account to log out of via a prompt
    $ gh auth logout

    # Log out of a specific host and specific account
    $ gh auth logout --hostname enterprise.internal --user monalisa
```

### gh auth refresh

- Expand or fix the permission scopes for stored credentials for active account.

- The `--scopes` flag accepts a comma separated list of scopes you want your gh credentials to have. If no scopes are provided, the command maintains previously added scopes.

- The `--remove-scopes` flag accepts a comma separated list of scopes you want to remove from your gh credentials. Scope removal is idempotent. The minimum set of scopes (repo, read:org, and gist) cannot be removed.

- The `--reset-scopes` flag resets the scopes for your gh credentials to the default set of scopes for your auth flow.


#### Options

- `-h, --hostname <string>`

    - The GitHub host to use for authentication

- `--insecure-storage`

    - Save authentication credentials in plain text instead of credential store

- `-r, --remove-scopes <strings>

    - Authentication scopes to remove from gh
    
- `--reset-scopes`

    - Reset authentication scopes to the default minimum set of scopes

- `-s, --scopes <strings>`

    - Additional authentication scopes for gh to have


#### Examples

```powershell
    # Open a browser to add write:org and read:public_key scopes
    $ gh auth refresh --scopes write:org,read:public_key

    # Open a browser to ensure your authentication credentials have the correct minimum scopes
    $ gh auth refresh

    # Open a browser to idempotently remove the delete_repo scope
    $ gh auth refresh --remove-scopes delete_repo

    # Open a browser to re-authenticate with the default minimum scopes
    $ gh auth refresh --reset-scopes
```

### gh auth setup-git

```powershell
    gh auth setup-git [flags]
```

- This command configures git to use GitHub CLI as a credential helper. For more information on git credential helpers please reference: [https://git-scm.com/docs/gitcredentials](https://git-scm.com/docs/gitcredentials).

- By default, GitHub CLI will be set as the credential helper for all authenticated hosts. If there is no authenticated hosts the command fails with an error.

- Alternatively, use the --hostname flag to specify a single host to be configured. If the host is not authenticated with, the command fails with an error.


#### Options

- `-f, --force <--hostname>`

    - Force setup even if the host is not known. Must be used in conjunction with --hostname

- `-h, --hostname <string>`

    - The hostname to configure git for


#### Examples

```powershell
    # Configure git to use GitHub CLI as the credential helper for all authenticated hosts
    $ gh auth setup-git

    # Configure git to use GitHub CLI as the credential helper for enterprise.internal host
    $ gh auth setup-git --hostname enterprise.internal
```

### gh auth status

```powershell
    gh auth status [flags]
```

- Display active account and authentication state on each known GitHub host.

- For each host, the authentication state of each known account is tested and any issues are included in the output. Each host section will indicate the active account, which will be used when targeting that host. If an account on any host (or only the one given via --hostname) has authentication issues, the command will exit with 1 and output to stderr.

- To change the active account for a host, see gh auth switch.


#### Options

- `-a, --active`

    - Display the active account only

- `-h, --hostname <string>`

    - Check only a specific hostname's auth status

- `-t, --show-token`

    - Display the auth token

### gh auth switch

```powershell
    gh auth switch [flags]
```

- Switch the active account for a GitHub host.

- This command changes the authentication configuration that will be used when running commands targeting the specified GitHub host.

- If the specified host has two accounts, the active account will be switched automatically. If there are more than two accounts, disambiguation will be required either through the --user flag or an interactive prompt.

- For a list of authenticated accounts you can run gh auth status.


#### Options

- `-h, --hostname <string>`

    - The hostname of the GitHub instance to switch account for

- `-u, --user <string>`

    - The account to switch to


#### Examples

```powershell
    # Select what host and account to switch to via a prompt
    $ gh auth switch

    # Switch the active account on a specific host to a specific user
    $ gh auth switch --hostname enterprise.internal --user monalisa
```

### gh auth token

```powershell
    gh auth token [flags]
```

- This command outputs the authentication token for an account on a given GitHub host.

- Without the --hostname flag, the default host is chosen.

- Without the --user flag, the active account for the host is chosen.


#### Options

- `-h, --hostname <string>`

    - The hostname of the GitHub instance authenticated with
- `-u, --user <string>`

    - The account to output the token for


---

## gh alias

- Aliases can be used to make shortcuts for gh commands or to compose multiple commands.

- Run gh help alias set to learn more.

- **Available Commands**:

    - [gh alias delete](https://cli.github.com/manual/gh_alias_delete)

    - [gh alias import](https://cli.github.com/manual/gh_alias_import)

    - [gh alias list](https://cli.github.com/manual/gh_alias_list)

    - [gh alias set](https://cli.github.com/manual/gh_alias_set)


### gh alias delete

- Delete set aliases

```powershell
    gh alias delete {<alias> | --all} [flags]
```

#### Options

- `--all`

    - Delete all aliases


### gh alias import

```powershell
    gh alias import [<filename> | -] [flags]
```

- Import aliases from the contents of a YAML file.

- Aliases should be defined as a map in YAML, where the keys represent aliases and the values represent the corresponding expansions. An example file should look like the following:

```powershell
    bugs: issue list --label=bug
    igrep: '!gh issue list --label="$1" | grep "$2"'
    features: |-
        issue list
        --label=enhancement
```

- Use - to read aliases (in YAML format) from standard input.

- he output from gh alias list can be used to produce a YAML file containing your aliases, which you can use to import them from one machine to another. Run gh help alias list to learn more.


#### Options

- `--clobber`

    - Overwrite existing aliases of the same name


#### Examples

```powershell
    # Import aliases from a file
    $ gh alias import aliases.yml

    # Import aliases from standard input
    $ gh alias import -
```


### gh alias list

```powershell
    gh alias list
```

- This command prints out all of the aliases gh is configured to use.


### gh alias set

```powershell
    gh alias set <alias> <expansion> [flags]
```

- Define a word that will expand to a full gh command when invoked.

- The expansion may specify additional arguments and flags. If the expansion includes positional placeholders such as $1, extra arguments that follow the alias will be inserted appropriately. Otherwise, extra arguments will be appended to the expanded command.

- Use - as expansion argument to read the expansion string from standard input. This is useful to avoid quoting issues when defining expansions.

- If the expansion starts with ! or if --shell was given, the expansion is a shell expression that will be evaluated through the sh interpreter when the alias is invoked. This allows for chaining multiple commands via piping and redirection.


#### Options

- `--clobber`

    - Overwrite existing aliases of the same name

- `-s, --shell`

    - Declare an alias to be passed through a shell interpreter


#### Example

```powershell
    # Note: Command Prompt on Windows requires using double quotes for arguments
    $ gh alias set pv 'pr view'
    $ gh pv -w 123  #=> gh pr view -w 123

    $ gh alias set bugs 'issue list --label=bugs'
    $ gh bugs

    $ gh alias set homework 'issue list --assignee @me'
    $ gh homework

    $ gh alias set 'issue mine' 'issue list --mention @me'
    $ gh issue mine

    $ gh alias set epicsBy 'issue list --author="$1" --label="epic"'
    $ gh epicsBy vilmibm  #=> gh issue list --author="vilmibm" --label="epic"

    $ gh alias set --shell igrep 'gh issue list --label="$1" | grep "$2"'
    $ gh igrep epic foo  #=> gh issue list --label="epic" | grep "foo"
```

